<html>

<head>
  <title>htmlelement-contextmenu</title>
  <link href="https://sylvain59650.github.io/demonstrator/css/theme1.css" type="text/css" rel="stylesheet" />
</head>

<body>
  <div class="container">
    <div>
      <a href="https://www.npmjs.com/package/htmlelement-contextmenu" title="NPM">
        <img src="https://sylvain59650.github.io/demonstrator/img/npm.png" height="32"></a>
      <a href="https://github.com/Sylvain59650/htmlelement-contextmenu" title="GitHub"><img src="https://github.com/favicon.ico" height="32" /></a>
    </div>

    <h1>htmlelement-contextmenu</h1>

    <div style="display:inline">
      <a target="_blank" title="build" href="https://travis-ci.org/Sylvain59650/htmlelement-contextmenu"><img src="https://travis-ci.org/Sylvain59650/htmlelement-contextmenu.png?branch=master" /></a>
      <a target="_blank" title="version" href="https://www.npmjs.com/package/htmlelement-contextmenu"><img src="https://img.shields.io/npm/v/htmlelement-contextmenu.svg" /></a>
      <a target="_blank" title="package" href="https://github.com/Sylvain59650/htmlelement-contextmenu"><img src="https://img.shields.io/github/package-json/v/Sylvain59650/htmlelement-contextmenu.svg" /></a>
      <a target="_blank" title="dependencies" href="https://david-dm.org/Sylvain59650/htmlelement-contextmenu"><img src="https://img.shields.io/david/Sylvain59650/htmlelement-contextmenu.svg" /></a>
      <a target="_blank" title="dependencies graph" href="http://npm.anvaka.com/#/view/2d/htmlelement-contextmenu"><img src="https://img.shields.io/badge/dependencies-graph-blue.svg" /></a>
      <img src="https://img.shields.io/bundlephobia/min/htmlelement-contextmenu.svg" />
      <img src="https://img.shields.io/badge/eslint-ok-blue.svg" />
      <a href="https://codeclimate.com/github/Sylvain59650/htmlelement-contextmenu/maintainability"><img src="https://api.codeclimate.com/v1/badges/4218bd7c089629a131a4/maintainability" /></a>
      <a target="_blank" title="tests" href="https://sylvain59650.github.io/htmlelement-contextmenu/"><img src="https://img.shields.io/badge/tests-passing-brightgreen.svg" /></a>
      <img src="https://img.shields.io/npm/l/htmlelement-contextmenu.svg" />
      <img src="https://hits.dwyl.com/Sylvain59650/htmlelement-contextmenu.svg" />
    </div>


    <nav>
      <li><a href="#constructor">constructor (menuInfo)</a></li>
      <li><a href="#insertItem">insertItem(menuItem)</a></li>
      <li><a href="#removeItem">removeItem(menuItem)</a></li>
      <li><a href="#popup">popup(x,y)</a></li>
      <li><a href="#usage">Usage</a></li>
    </nav>


    <article id="constructor">
      <h2>constructor</h2>
      <div class="description">
        <p>make a new instance of context menu.</p>
      </div>
      <div class="signature">
        <p>new ContextMenu(<i>menuInfo)</i></p>
      </div>
      <div class="arg">
        <p><i>menuInfo</i>
          <table>
            <tr>
              <td>object menuInfo {</td>
            </tr>
            <tr>
              <td>menuId:</td>
              <td>html id of the menu</td>
            </tr>
            <tr>
              <td>targetId:</td>
              <td>id of the html element on which the context menu should be created</td>
            </tr>
            <tr>
              <td>showAccessKey:</td>
              <td>bool to show shortcut in context menu</td>
            </tr>
            <tr>
              <td>beforeShowing:</td>
              <td>function called before showing context menu. This function can update items before showing</td>
            </tr>
            <tr>
              <td>items:</td>
              <td>array of menuItems</td>
            </tr>
            <tr>
              <td>}</td>
              <td>
            </tr>
          </table>

          <table>
            <tr>
              <td>object menuItem {</td>
            </tr>
            <tr>
              <td> key: </td>
              <td>html id of the menu item</td>
            </tr>
            <tr>
              <td>label:</td>
              <td>Text of menu item</td>
            </tr>
            <tr>
              <td> class:</td>
              <td>Css class of menu item</td>
            </tr>
            <tr>
              <td> fn: </td>
              <td>function to call when the menu item is selected</td>
            </tr>
            <tr>
              <td> accesskey:</td>
              <td>shortcut key to select the menu item</td>
            </tr>
            <tr>
              <td> showing:</td>
              <td>function call to determine the css class of menu item WHEN showing menu</td>
            </tr>
            <tr>
              <td> disabled:</td>
              <td>bool to active or inactive the menu item</td>
            </tr>
            <tr>
              <td>}</td>
              <td></td>
            </tr>
          </table>

        </p>
      </div>

      <p class="example" />
      <code><xmp>
        <div id="myMenu">right click here</div>

        <script>
        var ContextMenu = {
          menuId:document.querySelector("#myMenu"),
          items: [{
            key: "cut",
            label: "cut",
            fn: () => console.log("cut")
          }]
        };
        var menu = new ContextMenu(menuInfo);
      </script>
      </xmp></code>
  </div>
  </article>


  <article id="insertItem">
    <h2>insertItem</h2>
    <div class="signature">
      <p>insertItem(<i>menuItem</i>, <i>position</i>)</p>
    </div>
    <div class="arg">
      <p><i>menuItem</i>see below</p>
      <p><i>position</i>index of menuItem position in the menu</p>
    </div>
    <div class="description">
      <p>insert a menuItem in a menu at position</p>
    </div>
    <p class="example" />
    <code><xmp>
        var menu = new ContextMenu(menuInfo);
        menu.insertItem({},2);
      </xmp></code>
  </article>

  <article id="removeItem">
    <h2>removeItem</h2>
    <div class="signature">
      <p>removeItem(<i>menuItem</i>)</p>
    </div>
    <div class="arg">
      <p><i>menuItem</i>menuItem to remove in the contextMenu</p>
    </div>
    <div class="description">
      Remove a menuItem outside the menu
    </div>
    <p class="example" />
    <code><xmp>
        var menu = new ContextMenu(menuInfo);
        var menuInfo = menuInfo.items[2];
        menu.removeItem(menuInfo);
      </xmp></code>
    </div>
  </article>

  <article id="popup">
    <h2>popup</h2>
    <div class="signature">
      <p>popup(<i>x</i>,<i>y</i>)</p>
    </div>
    <div class="arg">
      <p><i>x</i>left position relative to the window</p>
      <p><i>y</i>top position relative to the window</p>
    </div>
    <div class="description">show the context menu at position (x,y)</div>
    <p class="example" />
    <code><xmp>
        var menu = new ContextMenu(menuInfo); menu.popup(200,300);
    </xmp></code>
  </article>


  <article id="usage">
    <h2>Usage</h2>
    <code><xmp>
      <link rel="stylesheet" href="node_modules/htmlelement-contextmenu/distrib/htmlelement-contextmenu.min.css" />
      <script src="node_modules/htmlelement-contextmenu/distrib/htmlelement-contextmenu.min.js"></script>

      <div id="div1">right click here</div>
      <script>
        var menuInfo = {
          menuId: "menu1",
          targetId: "#div1",
          items: [{
            key: "cut",
            label: "cut",
            fn: () => console.log("cut")
          }, {
            label: "sep"
          }, {
            key: "copy",
            label: "Copy",
            fn: () => console.log("copy")
          }, {
            key: "paste",
            label: "Paste",
            showing: () => {
              let val = document.querySelector("#t1");
              return (val.value < 5) ? "cmDisabled" : "-cmDisabled";
            },
            fn: () => console.log("paste")
          }]
        };

        var menu = new ContextMenu(menuInfo);
      </script>

    </xmp></code>
  </article>
  </div>
</body>

</html>