<html>

<head>
  <style>
    #div2 {
      float: right
    }
    
    .mnuSpecial:before {
      content: url("copy.png");
    }
    
    .mnuSpecial {
      margin-left: 0px !important;
      padding-left: 0px !important;
    }
  </style>
</head>

<body>
  <link rel="stylesheet" href="htmlelement-contextmenu.min.css" />
  <script src="../node_modules/web-browser-detection/distrib/web-browser-detection.min.js"></script>
  <script src="htmlelement-contextmenu.min.js"></script>
  <input type="text" id="t1" />
  <div id="div1">right click here</div>

  <div id="div2">right click here</div>
  <button id="btn1" type="button">manuel popup</button>
  <script>
    var menuInfo1 = {
      menuId: "menu1",
      targetId: "#div1",
      showAccessKey: true,
      beforeShowing: function() {
        menu1.menuInfo().items[0].disabled = true;
      },
      items: [{
        key: "cut",
        label: "cut",
        class: "mnuSpecial cmIcon",
        fn: function() {
          console.log("cut")
        },
        items: [{
          key: "cut1",
          label: "cut1",
          fn: function() {
            console.log("cut1")
          }
        }, {
          key: "cut2",
          label: "cut2",
          fn: function() {
            console.log("cut2")
          }
        }]
      }, {
        label: "sep"
      }, {
        key: "copy",
        label: "Copy",
        fn: function() {
          console.log("copy")
        }
      }, {
        key: "paste",
        label: "Paste",
        class: "mnuSpecial cmIcon",
        accesskey: "h",
        showing: function() {
          let val = document.querySelector("#t1");
          return (val.value < 5) ? "cmDisabled" : "-cmDisabled";
        },
        fn: function() {
          console.log("paste")
        }
      }, {
        key: "disabled",
        label: "Disabled",
        disabled: true,
        fn: function() {
          console.log("disabled");
        }
      }, {
        key: "custom",
        label: "custom",
        disabled: false,
        html: function() {
          return "<select><option>1</option><option>2</option></select>";
        },
        fn: function() {
          console.log("custom");
        }
      }]
    };

    var menu1 = new ContextMenu(menuInfo1);
    menu1.insertItem({
      key: "add",
      label: "add",
      fn: function() {
        console.log("add")
      }
    }, 1);

    var menuInfo2 = {
      menuId: "menu2",
      targetId: "#div2",
      items: [{
        key: "cut",
        label: "cut",
        fn: function() {
          console.log("cut")
        }
      }]
    }

    var menu2 = new ContextMenu(menuInfo2);

    menu1.popup(200, 250);
    document.querySelector("#btn1").addEventListener("click", function(e) {
      e.stopImmediatePropagation();
      menu1.popup(200, 250);
    });
  </script>

</body>

</html>